(this["webpackJsonpreact-punk-api"]=this["webpackJsonpreact-punk-api"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),l=n.n(c),u=(n(12),function(){return r.a.createElement("h1",null,"PUNK API")}),i=(n(13),n(1)),o=n(2),m=function(e,t){switch(t.type){case"FETCH_DATA":return Object(o.a)({},e,{beers:t.payload,search:t.search});case"NEXT_PAGE":return Object(o.a)({},e,{currentPage:e.currentPage+1});case"PREV_PAGE":return Object(o.a)({},e,{currentPage:e.currentPage-1});default:return e}},s={beers:[],currentPage:1,search:""},p=Object(a.createContext)(s);var E=n(3),d=n.n(E),h=n(6),b=function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,r,c,l,u=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>2&&void 0!==u[2]?u[2]:1,r=n?"https://api.punkapi.com/v2/beers?beer_name=".concat(n,"&page=").concat(a,"&per_page=15"):"https://api.punkapi.com/v2/beers?page=".concat(a,"&per_page=15"),e.next=4,fetch(r);case 4:return c=e.sent,e.next=7,c.json();case 7:return l=e.sent,e.abrupt("return",t({type:"FETCH_DATA",payload:l,search:n}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(e){var t=e.name,n=e.abv,a=e.volume,c=e.ingredients;return r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,n),r.a.createElement("td",null,a),r.a.createElement("td",null,c))},v=function(){var e=Object(a.useContext)(p),t=e.state,n=e.dispatch,c=t.currentPage,l=t.search;Object(a.useEffect)((function(){b(n,l,c)}),[l,c,n]);var u=t.beers.map((function(e){var t=e.id,n=e.name,a=e.abv,c=e.volume,l=e.ingredients,u=r.a.createElement("ul",null,Object.keys(l).map((function(e){return"yeast"===e?r.a.createElement("li",{key:e+Math.random()},"yeast: ".concat(l[e])):r.a.createElement("li",{key:e+Math.random()},e,r.a.createElement("ul",null,l[e].filter((function(e,t){return t<3})).map((function(e){return r.a.createElement("li",{key:e.name+Math.random()},e.name)}))))})));return r.a.createElement(f,{key:t,name:n,abv:a,volume:c.value,ingredients:u})}));return r.a.createElement("table",null,r.a.createElement("caption",null,"Search: ",t.search||"All"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"ABV (%)"),r.a.createElement("th",null,"Volume (litres)"),r.a.createElement("th",null,"Ingredients"))),r.a.createElement("tbody",null,u))},g=function(){var e=Object(a.useContext)(p),t=e.state,n=e.dispatch;return r.a.createElement("div",{id:"pagination"},r.a.createElement("div",{id:"prev"},r.a.createElement("button",{type:"button",onClick:function(){1!==t.currentPage&&function(e){e({type:"PREV_PAGE"})}(n)}},"PREV")),r.a.createElement("div",null,r.a.createElement("p",null,"page ",t.currentPage)),r.a.createElement("div",{id:"next"},r.a.createElement("button",{type:"button",onClick:function(){!function(e){e({type:"NEXT_PAGE"})}(n)}},"NEXT")))},y=function(){var e=Object(a.useContext)(p).dispatch,t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],l=n[1];return r.a.createElement("div",{id:"userInput"},r.a.createElement("label",{htmlFor:"searchString"},"Beer name: ",r.a.createElement("input",{onChange:function(e){l(e.target.value)},type:"text",name:"searchString",value:c,placeholder:"Search shows..."})),r.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),b(e,c),l("")}},"Search..."))},P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(y,null),r.a.createElement(v,null),r.a.createElement(g,null))};l.a.render(r.a.createElement((function(e){var t=e.children,n=Object(a.useReducer)(m,s),c=Object(i.a)(n,2),l=c[0],u=c[1];return r.a.createElement(p.Provider,{value:{state:l,dispatch:u}},t)}),null,r.a.createElement(P,null)),document.getElementById("root"))},7:function(e,t,n){e.exports=n(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.0a2baaa0.chunk.js.map